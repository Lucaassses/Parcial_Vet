<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/layout :: layout('Lista de Mascotas', ~{::div})}">
<body>
<div>
  <h2>Lista de Mascotas</h2>
  <a href="/mascotas/nuevo" class="btn btn-primary mb-3">
    <i class="fas fa-plus"></i> Nueva Mascota
  </a>

  <table class="table table-striped">
    <thead>
    <tr>
      <th>ID</th>
      <th>Nombre</th>
      <th>Especie</th>
      <th>Raza</th>
      <th>Fecha Nacimiento</th>
      <th>Propietario</th>
      <th>Acciones</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="mascota : ${mascotas}">
      <td th:text="${mascota.id}"></td>
      <td th:text="${mascota.nombre}"></td>
      <td th:text="${mascota.especie}"></td>
      <td th:text="${mascota.raza}"></td>
      <td th:text="${#dates.format(mascota.fechaNacimiento, 'dd/MM/yyyy')}"></td>
      <td th:text="${mascota.propietario.nombre}"></td>
      <td>
        <a th:href="@{/mascotas/editar/{id}(id=${mascota.id})}" class="btn btn-warning btn-sm">
          <i class="fas fa-edit"></i>
        </a>
        <a th:href="@{/consultas/mascota/{id}(id=${mascota.id})}" class="btn btn-info btn-sm">
          <i class="fas fa-clipboard-list"></i>
        </a>
        <a th:href="@{/mascotas/eliminar/{id}(id=${mascota.id})}"
           class="btn btn-danger btn-sm"
           onclick="return confirm('¿Estás seguro de eliminar esta mascota?')">
          <i class="fas fa-trash"></i>
        </a>
      </td>
    </tr>
    </tbody>
  </table>
</div>
</body>
</html>